<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Employee Attendance | Admin Panel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        /* Maintaining Admin Panel Styles */
        *{ margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', sans-serif; }
        body{ min-height:100vh; background:linear-gradient(135deg,#020617,#0f172a,#1e293b); color:#fff; }
        .main{ display:flex; min-height:100vh; }
        
        /* Sidebar */
        .sidebar{ width:260px; background:rgba(2,6,23,0.9); backdrop-filter:blur(10px); padding-top:25px; }
        .logo{ text-align:center; margin-bottom:30px; }
        .logo h2{ color:#38bdf8; }
        .sidebar a{ display:flex; align-items:center; gap:12px; padding:15px 22px; color:#fff; text-decoration:none; transition:0.3s; }
        .sidebar a:hover, .sidebar a.active{ background:#38bdf8; color:#000; border-radius:10px; margin:0 12px; }

        /* Content */
        .content{ flex:1; padding:40px; }
        .header{ margin-bottom:25px; display: flex; justify-content: space-between; align-items: center; }
        .header h2{ color:#38bdf8; }
        
        .card{ background:rgba(255,255,255,0.08); backdrop-filter:blur(12px); border-radius:20px; padding:25px; box-shadow:0 15px 40px rgba(0,0,0,0.5); }
        
        table{ width:100%; border-collapse:collapse; margin-top:15px; }
        th{ background:rgba(0,0,0,0.6); padding:14px; text-transform:uppercase; font-size:14px; color: #38bdf8; text-align: left; }
        td{ padding:14px; border-bottom:1px solid rgba(255,255,255,0.1); }
        .status-badge { padding: 4px 10px; border-radius: 12px; font-size: 12px; background: #28a745; color: white; }
    </style>
</head>
<body>

<div class="main">
    <div class="sidebar">
        <div class="logo"><h2>ADMIN PANEL</h2></div>
        <a href="admin dashboard.html"><i class="fa fa-chart-line"></i> Dashboard</a>
        <a href="leave_request.html"><i class="fa fa-envelope"></i> Leave Requests</a>
        <a href="admin_attendance.html" class="active"><i class="fa fa-clock"></i> Attendance</a>
        <a href="employee.html"><i class="fa fa-users"></i> Employees</a>
    </div>

    <div class="content">
        <div class="header">
            <h2>ðŸ“Š Employee Attendance Logs</h2>
            <button onclick="clearLogs()" style="background: #ff4d4d; color: white; padding: 8px 15px; border: none; border-radius: 5px; cursor: pointer;">Clear All Logs</button>
        </div>

        <div class="card">
            <table>
                <thead>
                    <tr>
                        <th>Employee</th>
                        <th>Date</th>
                        <th>Clock In</th>
                        <th>Clock Out</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="adminAttendanceTable">
                    </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    function loadAllAttendance() {
        const tableBody = document.getElementById("adminAttendanceTable");
        const logs = JSON.parse(localStorage.getItem("attendanceLogs")) || [];
        const employeeName = localStorage.getItem("employeeName") || "John"; // Default for demo

        tableBody.innerHTML = "";

        if (logs.length === 0) {
            tableBody.innerHTML = `<tr><td colspan="5" style="text-align:center; opacity:0.5; padding:20px;">No attendance records found.</td></tr>`;
            return;
        }

        // Display logs (newest first)
        logs.reverse().forEach(log => {
            tableBody.innerHTML += `
                <tr>
                    <td><strong>${employeeName}</strong></td>
                    <td>${log.date}</td>
                    <td>${log.in || '--:--'}</td>
                    <td>${log.out || '--:--'}</td>
                    <td><span class="status-badge">Present</span></td>
                </tr>
            `;
        });
    }

    function clearLogs() {
        if(confirm("Are you sure you want to delete all attendance records?")) {
            localStorage.removeItem("attendanceLogs");
            loadAllAttendance();
        }
    }

    document.addEventListener("DOMContentLoaded", loadAllAttendance);
</script>
</body>
</html>